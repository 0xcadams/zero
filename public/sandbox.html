<input id="client" type="text" value="c1" /><br /><br />
<textarea id="data" style="width: 100%; height: 500px"></textarea><br /><br />
<button id="connect">Connect</button>
<button id="push">Push</button>

<script>
  let ws;

  document.querySelector("#connect").onclick = () => {
    const clientID = document.querySelector("#client").value;
    if (ws) {
      ws.close();
    }
    ws = new WebSocket(
      `ws://localhost:3000/?clientID=${clientID}&roomID=r1&baseCookie=&ts=${performance.now()}`
    );
  };

  document.querySelector("#push").onclick = () => {
    const data = JSON.parse(document.querySelector("#data").value);
    ws.send(JSON.stringify(["push", data]));
  };
</script>
